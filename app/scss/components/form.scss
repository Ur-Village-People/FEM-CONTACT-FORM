@use '../util/' as *;

.form {
  border: none;
  display: flex;
  flex-direction: column;
  gap: to-rem(24);
  
  &__name-container {
    display: flex;
    flex-direction: column;
    gap: to-rem(16);
    
    @include breakpoint(medium) {
      flex-direction: row;
      gap: to-rem(16);
    }
  }
  
  &__name {
    display: flex;
    flex-direction: column;
    gap: to-rem(8);
    flex: 1;
  }
  
  &__label {
    font-size: to-rem(16);
    font-weight: 400;
    color: var(--green-900);
    display: inline-block;
  }
  
  .required::after {
    content: ' *';
    color: var(--green-600);
    margin-left: to-rem(4);
  }
  
  &__name-input,
  &__email-input,
  &__textarea {
    border: to-rem(1) solid var(--green-500);
    border-radius: to-rem(8);
    padding: to-rem(12) to-rem(16);
    width: 100%;
    font-size: to-rem(18);
    font-family: inherit;
    outline: none;
    
    &:focus,
    &:hover {
      border-color: var(--green-600);
    }
  }
  
  &__email-name {
    display: flex;
    flex-direction: column;
    gap: to-rem(8);
  }
  
  &__query-container {
    display: flex;
    flex-direction: column;
    gap: to-rem(16);
    border: none;
    
    @include breakpoint(medium) {
      flex-direction: row;
      gap: to-rem(16);
    }
  }
  
  &__query-label {
    font-size: to-rem(16);
    font-weight: 400;
    color: var(--green-900);
    margin-bottom: to-rem(16);
  }
  
  &__query-name {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
    gap: to-rem(12);
    align-items: center;
    border: to-rem(1) solid var(--green-500);
    border-radius: to-rem(8);
    padding: to-rem(12) to-rem(24);
    flex: 1;
    cursor: pointer;
    
    &:hover {
      background-color: var(--green-200);
    }
  }
  
  &__query-title, &__query-type {
    font-weight: 400;
    cursor: pointer;
  }
  
  &__message-name {
    display: flex;
    flex-direction: column;
    gap: to-rem(8);
  }
  
  &__textarea {
    min-height: to-rem(105);
    resize: vertical;
    
    @include breakpoint-down(small) {
      min-height: to-rem(240);
    }
  }
  
  &__consent-name {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
    gap: to-rem(12);
    align-items: center;
    margin-bottom: to-rem(16);
    
    @include breakpoint(medium) {
      gap: to-rem(16);
    }
  }
  
  &__consent-label {
    font-size: to-rem(16);
  }
  
  &__checkbox {
    // checkbox styles
  }
  
  &__submit-btn {
    border: none;
    background-color: var(--green-600);
    padding: to-rem(16);
    border-radius: to-rem(8);
    font-weight: 700;
    color: var(--white);
    font-size: to-rem(18);
    cursor: pointer;
  }
}

/* ===== ERROR STYLES ===== */
/* These must be separate from the .form class above */

// Hide all error text by default
.error-text {
  display: none;
  color: var(--red);
  font-size: to-rem(14);
  margin-top: to-rem(4);
}

// Show error text when parent has .error class
.form__name.error .error-text,
.form__email-name.error .error-text,
.form__query-container.error .error-text,
.form__message-name.error .error-text,
.form__consent-name.error .error-text {
  display: block;
}

// Red borders for text inputs in error state
.form__name.error .form__name-input,
.form__email-name.error .form__email-input,
.form__message-name.error .form__textarea {
  border-color: var(--red);
}

// Red borders for radio button containers in error state
.form__query-container.error .form__query-name {
  border-color: var(--red);
}

/* ===== SUCCESS TOAST ===== */
.success-toast {
  position: fixed;
  top: to-rem(20);
  left: 50%;
  transform: translateX(-50%) translateY(-200%);
  background-color: var(--green-900);
  color: var(--white);
  padding: to-rem(24);
  border-radius: to-rem(12);
  transition: transform 0.4s ease;
  z-index: 100;
  width: 90%;
  max-width: to-rem(500);
  
  @include breakpoint(medium) {
    top: to-rem(40);
  }
  
  &.show { 
    transform: translateX(-50%) translateY(0); 
  }
  
  &__header {
    display: flex;
    align-items: center;
    gap: to-rem(12);
    margin-bottom: to-rem(12);
    
    h2 {
      font-size: to-rem(20);
      font-weight: 700;
    }
  }
}